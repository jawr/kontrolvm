{% extends 'base.html'%}
{% block container %}
  <div class="container-fluid">
    <br><br>
    <div class="row-fluid">&nbsp;</div>
    <div class="row-fluid">
      <div class="span3">
        <div class="well sidebar-nav">
          <ul class="nav nav-list">
            <li class="nav-header">Account</li>
            <li {% if request.get_full_path == "/account/" %}class="active"{% endif %}><a href="/account/">Dashboard</a></li>
            {% if user.is_staff %}
              <li class="divider"></li>
              <li class="nav-header">Admin</li>
              <li {% if request.get_full_path == "/hypervisor/" %}class="active"{% endif %}><a href="/hypervisor/">Hypervisors</a></li>
              <li {% if request.get_full_path == "/storagepool/" %}class="active"{% endif %}><a href="/storagepool/">Storage Pools</a></li>
              <li {% if request.get_full_path == "/installationdisk/" %}class="active"{% endif %}><a href="/installationdisk/">Installation Disks</a></li>
              <li {% if request.get_full_path == "/instance/" %}class="active"{% endif %}><a href="/instance/">Instances</a></li>
            {% endif %}
          </ul>
        </div>
      </div>
      <div class="span9">
        {% block content %}{% endblock %}
        <!-- handle ajax post requests -->
        <script>
          $(function() {
            // handle csrf token for x-editable
            var csrftoken = $.cookie('csrftoken');
            function csrfSafeMethod(method) {
                // these HTTP methods do not require CSRF protection
                return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
            }
            $.ajaxSetup({
                crossDomain: false, // obviates need for sameOrigin test
                beforeSend: function(xhr, settings) {
                    if (!csrfSafeMethod(settings.type)) {
                        xhr.setRequestHeader("X-CSRFToken", csrftoken);
                    }
                }
            });
          });
        </script>
      </div>
    </div>
  </div>
{% endblock %}

